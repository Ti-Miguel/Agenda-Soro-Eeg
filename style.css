:root{
  --brand:#eb4034;
  --brand-700:#d83c30;

  --bg:#ffffff;
  --card:#ffffff;
  --text:#1a1a1a;
  --muted:#6b7280;
  --border:#e6e9ee;

  --ok:#16a34a;
  --warn:#b45309;
  --danger:#ef4444;

  --shadow:0 4px 14px rgba(17,24,39,.06);

  /* Corzinha verde para dia com agendamento */
  --day-has-appt-bg:#e9f9ef;
  --day-has-appt-border:#bfead0;
}

*{ box-sizing:border-box }
html,body{
  margin:0; padding:0;
  font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg); color:var(--text);
}
a{ color:inherit; text-decoration:none }

/* TOPBAR mais enxuta */
.topnav{
  position:sticky; top:0; z-index:50;
  background:#fff; border-bottom:1px solid #EEF1F4;
  backdrop-filter: blur(8px) saturate(140%);
}
.topnav__wrap{
  max-width:1280px; margin:0 auto;
  padding:6px 12px;
  display:grid; grid-template-columns:280px auto 420px; gap:8px; align-items:center;
}
.topnav__left{ display:flex; align-items:center; gap:8px; justify-self:start }
.topnav__center{ display:flex; align-items:center; gap:10px; justify-self:center; flex-wrap:wrap }
.topnav__right{ display:flex; align-items:center; gap:8px; justify-self:end; flex-wrap:wrap }

.topnav__logo{ width:36px; height:36px; border-radius:8px; object-fit:cover; box-shadow:0 2px 8px rgba(0,0,0,.06) }
.topnav__title{ font-weight:800; letter-spacing:.2px; white-space:nowrap }
.topnav__range{ min-width:200px; text-align:center; font-weight:800 }
.topnav__sep{ width:1px; height:20px; background:#EDF1F5; display:inline-block }

.tbtn{ height:36px; padding:0 12px; border-radius:10px; border:1px solid #E8EBF0; background:#fff; color:#111827; font-weight:700; box-shadow:0 3px 10px rgba(17,24,39,.05); cursor:pointer; transition:transform .06s ease, filter .15s ease; }
.tbtn:hover{ filter:brightness(.98) }
.tbtn:active{ transform:translateY(1px) }
.tbtn--icon{ width:40px; padding:0; text-align:center }
.tbtn--ghost{ background:#FAFAFA }
.tbtn--cta{ background:var(--brand); color:#fff; border-color:transparent; box-shadow:0 10px 22px rgba(235,64,52,.18) }

.topnav__seg{
  display:inline-flex; gap:4px; background:#fff; border:1px solid #E8EBF0;
  padding:4px; border-radius:999px; box-shadow:0 6px 20px rgba(17,24,39,.06);
}
.topnav__seg--light{ background:#FAFAFA }
.topnav__segbtn{ border:0; background:transparent; padding:6px 12px; border-radius:999px; font-weight:800; cursor:pointer; color:#111827; line-height:1; }
.topnav__segbtn.active{ background:var(--brand); color:#fff; box-shadow:0 10px 22px rgba(235,64,52,.18) }

@media (max-width:1180px){
  .topnav__wrap{ grid-template-columns:1fr }
  .topnav__left,.topnav__center,.topnav__right{ justify-self:center }
  .topnav__title{ display:none }
}

/* Layout principal */
.calendar-shell{
  max-width:1280px;
  margin:12px auto; /* rente ao topo, mas com leve respiro */
  padding:0 12px;
  display:grid;
  grid-template-columns:1fr 360px;
  gap:16px;
}
.calendar-shell.no-side{ grid-template-columns:1fr }
.side-panel.hidden{ display:none }
.calendar{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:1rem;
  min-height:560px;
  box-shadow:var(--shadow);
}
.side-panel{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:12px;
  box-shadow:var(--shadow);
  max-height:calc(100vh - 140px);
  overflow:auto;
}
.side-panel h3{ margin:.2rem 0 1rem }

/* MÊS */
.weekdays{
  display:grid; grid-template-columns:repeat(7,1fr);
  gap:10px; margin:8px 0 6px;
  color:#666; font-weight:600; font-size:.95rem;
}
.grid-month{ display:grid; grid-template-columns:repeat(7,1fr); gap:10px }

.day-cell{
  position:relative;
  background:#fff;
  border:1px solid var(--border);
  border-radius:14px;
  min-height:120px;
  padding:10px;
  box-shadow:var(--shadow);
  transition:transform .06s ease;
  display:flex; flex-direction:column; gap:.6rem;
}
.day-cell:hover{ transform:translateY(-1px) }
.day-cell.other{ opacity:.45 }
.day-num{ font-weight:700; opacity:.7; font-size:.95rem }

/* NOVO: verde quando há agendamento */
.day-cell.has-appt{
  background:var(--day-has-appt-bg);
  border-color:var(--day-has-appt-border);
}

/* contadores / destaques */
.day-count{
  position:absolute; top:8px; right:8px;
  font-size:.75rem; line-height:1;
  padding:.15rem .45rem; border-radius:999px;
  border:1px solid var(--border); background:#fff; color:#334155;
  box-shadow:var(--shadow);
}
.day-cell.has-block{ background:#fff4f3; border-color:#f3b5b0 }
.block-count{
  position:absolute; top:8px; right:8px;
  font-size:.75rem; padding:.15rem .5rem; border-radius:999px;
  border:1px solid var(--border); background:#fff; color:#b71c1c;
  box-shadow:var(--shadow); display:flex; align-items:center; gap:.35rem;
}
.day-cell.has-appt.has-block .day-count{ top:auto; bottom:8px; right:8px }

/* SEMANA / DIA */
.week-list{ display:grid; grid-template-columns:repeat(7,1fr); gap:10px }
.week-col{
  background:#fff; border:1px solid var(--border);
  border-radius:14px; min-height:140px;
  padding:10px; box-shadow:var(--shadow);
}
.week-col h4{ display:flex; align-items:center; gap:6px; margin:2px 0 10px }
.day-block-flag{ margin-left:auto }

.day-agenda{
  display:flex; flex-direction:column; gap:10px;
  border:1px solid var(--border); border-radius:12px;
  background:#fff; padding:1rem; min-height:420px;
}
.time-slot{
  display:flex; justify-content:space-between; align-items:flex-start;
  background:#fff; border:1px dashed var(--border);
  border-radius:14px; padding:10px 12px; box-shadow:var(--shadow);
}
.time-slot.blocked{ background:#fff3f2; border-color:#f5b0aa }
.badge.block{
  background:#ffe2df; border:1px solid #f5b0aa; color:#b71c1c;
  font-weight:700; padding:.2rem .55rem; border-radius:10px;
}

/* Chips / Tags */
.appt-chip{
  display:flex; align-items:center; gap:.4rem;
  background:#f8fafc; border:1px solid var(--border);
  border-radius:10px; padding:.3rem .5rem; margin-bottom:.35rem;
}
.dot{ width:8px; height:8px; border-radius:50% }
.dot.soro{ background:#22c55e }
.dot.eeg { background:#3b82f6 }
.tag{ font-size:.7rem; padding:.1rem .5rem; border-radius:6px; border:1px solid var(--border) }
.tag.ok{ border-color:var(--ok); color:var(--ok); background:#f0fdf4 }
.tag.warn{ border-color:var(--warn); color:var(--warn); background:#fff8e1 }
.tag.done{ border-color:var(--ok); color:#fff; background:var(--ok) }

/* MODAIS – espaçamento, sem X, footer sempre visível */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.4);
  display:flex; align-items:flex-start; justify-content:center; /* começa de cima */
  padding:24px 12px; /* respiro da topbar */
  z-index:60;
}
.hidden{ display:none }
.modal{
  width:min(720px,92vw); background:#fff;
  border:1px solid var(--border); border-radius:18px;
  box-shadow:var(--shadow);
  max-height:calc(100vh - 48px);      /* não deixa passar da tela */
  display:flex; flex-direction:column; /* header/body/footer em coluna */
}
.modal-header{
  display:flex; justify-content:space-between; align-items:center;
  padding:1rem 1.2rem; border-bottom:1px solid var(--border);
}
.modal-flex{ display:flex; flex-direction:column; flex:1; min-height:0 }
.modal-body{
  padding:1rem 1.2rem;
  overflow:auto;                      /* conteúdo rola */
  flex:1; min-height:0;
}
.modal-footer{
  display:flex; gap:.8rem; justify-content:flex-end;
  padding:.8rem 1.2rem 1.2rem 1.2rem; /* traz botões mais para dentro */
  border-top:1px solid var(--border);
  background:#fff;
  position:sticky; bottom:0;          /* sempre visível */
  border-bottom-left-radius:18px; border-bottom-right-radius:18px;
}
.grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:1rem }
label{ display:flex; flex-direction:column; gap:.3rem; font-size:1rem }
input,select{
  background:#fff; border:1px solid var(--border); color:var(--text);
  padding:.8rem 1rem; border-radius:10px; font-size:1rem;
}
input:focus,select:focus{ border-color:var(--brand); box-shadow:0 0 0 3px rgba(235,64,52,.2) }

/* Botões gerais */
.btn{ height:36px; padding:0 12px; border-radius:10px; border:1px solid #E8EBF0; background:#fff; color:#111827; font-weight:700; box-shadow:0 3px 10px rgba(17,24,39,.05); cursor:pointer; transition:transform .06s ease, filter .15s ease; }
.btn:hover{ filter:brightness(.98) }
.btn:active{ transform:translateY(1px) }
.btn.primary{ background:var(--brand); color:#fff; border-color:transparent; box-shadow:0 10px 22px rgba(235,64,52,.18) }
.btn.ghost{ background:#FAFAFA }
.btn.small{ padding:.45rem .8rem; font-size:.85rem; border-radius:10px; height:auto }

/* Login */
.login-body{ display:grid; place-items:center; min-height:100dvh; background:#FAFAFA }
.login-card{ width:min(420px,92vw); background:#fff; border:1px solid var(--border); border-radius:18px; padding:1.5rem; box-shadow:var(--shadow) }
.app-title{ margin:.2rem 0 1rem }
.login-form{ display:flex; flex-direction:column; gap:1rem }
.hint{ color:var(--muted); margin-top:.8rem; text-align:center }

/* Responsivo */
@media (max-width:980px){
  .calendar-shell{ grid-template-columns:1fr }
  .side-panel{ order:2 }
  .grid-2{ grid-template-columns:1fr }
}
@media (max-width:640px){
  .btn{ width:100% }
}
